## Bee Node Configuration - https://docs.ethswarm.org/docs/bee/working-with-bee/configuration
##
## QUICK START CHECKLIST FOR FULL NODE:
## 1. ‚úÖ Set blockchain-rpc-endpoint (MUST be full archival Gnosis Chain node)
## 2. ‚úÖ Create password file at password-file path 
## 3. ‚úÖ Set nat-addr if behind NAT/firewall (critical for peer connections)
## 4. ‚úÖ Ensure data-dir has 100GB+ free space on SSD
## 5. ‚úÖ Fund your node with xDAI and xBZZ tokens
##
## ‚ö†Ô∏è  CRITICAL WARNINGS FROM DOCUMENTATION:
## - Free RPC endpoints often cause "storage: not found" errors
## - Password is MANDATORY for all node types
## - NAT configuration is essential for proper peer connectivity

# ==============================================================================
# üö® CRITICAL SETTINGS (Must configure before first run)
# ==============================================================================

## Blockchain RPC endpoint - CRITICAL: Must be FULL ARCHIVAL node
## ‚ö†Ô∏è  WARNING: Free RPC services like Infura/Alchemy often fail with "storage: not found"
## ‚úÖ RECOMMENDED: Run your own Gnosis Chain node or use paid archival RPC
## Mainnet: Use Gnosis Chain archival node (e.g., "wss://rpc.gnosischain.com/wss")
## Testnet: Use Sepolia archival node (e.g., "wss://sepolia.infura.io/ws/v3/YOUR-PROJECT-ID")
# blockchain-rpc-endpoint: ""

## Password for node key decryption - MANDATORY for all node types
## ‚ö†Ô∏è  SECURITY: Never commit passwords to version control
## Option 1: Use password file (recommended for production)
password-file: "/var/lib/bee/password"
## Option 2: Set password directly (less secure, use only for testing)
# password: ""

## NAT exposed address - CRITICAL for peer connectivity
## ‚ö†Ô∏è  If behind NAT/firewall, you MUST set this for proper peer connections
## Format: "your-public-ip:1634" or leave empty for auto-detection
## Example: "123.45.67.89:1634"
# nat-addr: ""

## Data directory - Ensure 100GB+ free space on SSD for optimal performance
## ‚ö†Ô∏è  BACKUP: Keep secure backups of keys and chequebook data
data-dir: "/var/lib/bee"

# ==============================================================================
# üéØ NODE TYPE CONFIGURATION
# ==============================================================================

## Node operation mode - Choose your node type:
## ‚Ä¢ full-node: true  = Full Node (complete functionality, network participation)
## ‚Ä¢ full-node: false = Light Node (limited functionality, supports uploads/downloads)  
## ‚Ä¢ Note: Ultra-light nodes (free downloads only) use different configuration
full-node: true

## Network selection
## ‚Ä¢ mainnet: true  = Production Swarm network (requires xDAI + xBZZ funding)
## ‚Ä¢ mainnet: false = Testnet (requires Sepolia ETH + sBZZ funding)
mainnet: true

## Network ID (automatically set based on mainnet flag, rarely needs changes)
## ‚Ä¢ "1" = Mainnet, "100" = Gnosis Chain, others = testnets
network-id: "1"

## Bootstrap nodes for peer discovery (mainnet default shown)
## For testnet: comment out or replace with testnet bootnodes
bootnode: ["/dnsaddr/mainnet.ethswarm.org"]

# ==============================================================================
# üí∞ ECONOMIC SETTINGS (Required for network participation)
# ==============================================================================

## Enable chequebook - REQUIRED for full network participation
## Handles payments between peers, postage stamps, and rewards
chequebook-enable: true

## Enable storage incentives - REQUIRED to earn rewards
## Participates in the storage incentive mechanism and redistribution game
storage-incentives-enable: true

## Payment threshold ("13500000" plur = 0.0135 xBZZ)
## Lower values = more frequent settlements, higher values = fewer settlements
payment-threshold: "13500000"

## Settlement timing (50 = settle when peer reaches 50% of their threshold)
## Lower values = earlier settlements (less risk), higher = later settlements
payment-early-percent: 50

## Debt tolerance (25 = disconnect if peer exceeds 125% of threshold)
## Lower values = stricter enforcement, higher = more tolerance
payment-tolerance-percent: 25

# ==============================================================================
# üåê NETWORK & CONNECTIVITY
# ==============================================================================

## API address for client connections
## ‚Ä¢ "127.0.0.1:1633" = Local access only (recommended)
## ‚Ä¢ "0.0.0.0:1633" = All interfaces (secure with firewall)
api-addr: "127.0.0.1:1633"

## P2P address for peer connections
## ‚Ä¢ ":1634" = All interfaces (recommended for full nodes)
## ‚Ä¢ "127.0.0.1:1634" = Local only (testing/development)
p2p-addr: ":1634"

## Bootnode mode - Accept all incoming connections
## Enable only if running a public bootnode with stable connectivity
# bootnode-mode: false

## WebSocket transport (experimental)
## Enable for browser-based peers or restricted network environments
# p2p-ws-enable: false

## CORS origins for browser API access
## Add your web app domains: ["https://myapp.com", "https://localhost:3000"]
# cors-allowed-origins: []

## Private network support (testing environments only)
# allow-private-cidrs: false

## Static peers (never disconnected)
## List of critical peers to maintain connections with
# static-nodes: []

# ==============================================================================
# üíæ STORAGE & PERFORMANCE
# ==============================================================================

## Cache capacity in chunks (affects memory usage and performance)
## ‚Ä¢ "1000000" = ~4GB RAM (recommended for 8GB+ systems)
## ‚Ä¢ "500000" = ~2GB RAM (suitable for 4GB systems)
## ‚Ä¢ "250000" = ~1GB RAM (minimal systems)
cache-capacity: "1000000"

## Enable content caching for better retrieval performance
cache-retrieval: true

## Storage radius (full nodes typically use "0" to store everything)
## Higher values = store less content, "0" = store all content
minimum-storage-radius: "0"

## Database performance settings (optimized defaults)
db-block-cache-capacity: "33554432"    # 32MB read cache
db-write-buffer-size: "33554432"       # 32MB write buffer  
db-open-files-limit: "200"             # File handles
db-disable-seeks-compaction: true      # Performance optimization
statestore-cache-capacity: "100000"    # State cache entries

# ==============================================================================
# üìã BLOCKCHAIN & CONTRACT SETTINGS  
# ==============================================================================

## Gas settings
## ‚Ä¢ minimum-gas-tip-cap: 0 = Use network suggested gas price
## ‚Ä¢ Set higher during network congestion to ensure transaction inclusion
minimum-gas-tip-cap: 0

## Block timing for connected blockchain (5 seconds for Gnosis Chain)
block-time: "5"

## Smart contract addresses (automatically configured for mainnet/testnet)
## Override only for custom deployments or private networks
# postage-stamp-address: ""
# postage-stamp-start-block: "0"
# price-oracle-address: ""
# redistribution-address: ""
# staking-address: ""

## Postage snapshot configuration
## ‚Ä¢ use-postage-snapshot: true = Faster initial sync using network snapshot
## ‚Ä¢ skip-postage-snapshot: true = Don't save snapshots locally
# use-postage-snapshot: false
# skip-postage-snapshot: false
# resync: false

# ==============================================================================
# üéõÔ∏è  ADVANCED SETTINGS
# ==============================================================================

## Logging verbosity
## ‚Ä¢ "error" = Minimal logging
## ‚Ä¢ "warn" = Warnings and errors
## ‚Ä¢ "info" = Normal operation (recommended)
## ‚Ä¢ "debug" = Detailed troubleshooting
## ‚Ä¢ "trace" = Maximum verbosity
verbosity: "info"

## Node warmup time before full operation
warmup-time: "5m0s"

## Neighborhood targeting (advanced network positioning)
## Leave empty for random positioning, or specify binary string for targeting
# target-neighborhood: ""
neighborhood-suggester: "https://api.swarmscan.io/v1/network/neighborhoods/suggestion"

## Reserve capacity management (advanced storage tuning)
# reserve-capacity-doubling: 0

## Domain name resolution
# resolver-options: []

## Custom welcome message for peer handshakes
# welcome-message: ""

## Withdrawal restrictions (security feature)
## List addresses that are allowed to receive withdrawals
# withdrawal-addresses-whitelist: []

# ==============================================================================
# üß™ LEGACY/EXPERIMENTAL FEATURES
# ==============================================================================

## SWAP protocol (legacy payment system - keep disabled)
# swap-enable: false
# swap-factory-address: ""
# swap-initial-deposit: "0"

# ==============================================================================
# üîß DEBUGGING & MONITORING (Developers only)
# ==============================================================================

## Distributed tracing (OpenTelemetry/Jaeger)
# tracing-enable: false
tracing-endpoint: "127.0.0.1:6831"
tracing-service-name: "bee"
# tracing-host: ""
# tracing-port: ""

## Go runtime profiling (performance debugging)
# pprof-profile: false
# pprof-mutex: false

## Transaction debugging (may cause failures)
# transaction-debug-mode: false

# ==============================================================================
# üìÅ SYSTEM SETTINGS
# ==============================================================================

## Configuration file location
config: "/etc/bee/bee.yaml"

## Help flag (CLI usage)
# help: false

# ==============================================================================
# üéì CONFIGURATION NOTES
# ==============================================================================
##
## FUNDING YOUR NODE:
## ‚Ä¢ Mainnet: Fund with xDAI (gas) and xBZZ (postage/payments)
## ‚Ä¢ Testnet: Fund with Sepolia ETH and sBZZ from faucets
##
## TESTING YOUR SETUP:
## 1. Check API: curl http://localhost:1633/health
## 2. Check peers: curl http://localhost:1633/peers  
## 3. Check chequebook: curl http://localhost:1633/chequebook/balance
##
## COMMON ISSUES:
## ‚Ä¢ "storage: not found" = Use archival RPC endpoint
## ‚Ä¢ No peers connecting = Check NAT address configuration
## ‚Ä¢ Transaction failures = Ensure sufficient xDAI for gas
## ‚Ä¢ Postage issues = Ensure xBZZ balance for stamps
##
## SECURITY CHECKLIST:
## ‚úÖ Password file has restricted permissions (600)
## ‚úÖ API not exposed to internet without authentication
## ‚úÖ Regular backups of data-dir/keys
## ‚úÖ Monitor node balance and chequebook status
## ‚úÖ Use archival RPC from trusted source
##
# ==============================================================================